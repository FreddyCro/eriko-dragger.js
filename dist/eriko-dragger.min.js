/* eslint-disable-next-line */
!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(n){var r={};function __webpack_require__(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=n,__webpack_require__.c=r,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)__webpack_require__.d(n,r,function(e){return t[e]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="./",__webpack_require__(__webpack_require__.s=0)}([function(e,t,n){"use strict";function calcDistance(e,t,n,r){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2),2)}function calcDirection(e,t,n,r){var o,a,i=n-e,c=r-t;return 0<+i&&(o="r"),+i<0&&(o="l"),0==+i&&(o="_"),0<+c&&(a="r"),+c<0&&(a="l"),0==+c&&(a="_"),"".concat(o).concat(a)}n.r(t),n.d(t,"ErikoDragger",function(){return l});var r=0,o=null;function defaultMovingEvent(e,t){event.stopPropagation();var n=(new Date).getTime();e.edInfo.dragDuration=n-r,e.edInfo.sourceEvent=event,function updateMovingCoord(){switch(t){case"touchmove":e.edInfo.dragMovingCoord={x:event.touches[0].screenX,y:event.touches[0].screenY};break;case"drag":e.edInfo.dragMovingCoord={x:event.screenX,y:event.screenY}}}.bind(event)(),function updateCalcInfo(){e.edInfo.dragDistance=calcDistance(e.edInfo.dragStartCoord.x,e.edInfo.dragStartCoord.y,e.edInfo.dragMovingCoord.x,e.edInfo.dragMovingCoord.y),e.edInfo.dragDirectionFromPrev=calcDistance(o.x,o.y,e.edInfo.dragMovingCoord.x,e.edInfo.dragMovingCoord.y),e.edInfo.dragDirection=calcDirection(e.edInfo.dragStartCoord.x,e.edInfo.dragStartCoord.y,e.edInfo.dragMovingCoord.x,e.edInfo.dragMovingCoord.y),e.edInfo.dragDistanceFromPrev=calcDirection(o.x,o.y,e.edInfo.dragMovingCoord.x,e.edInfo.dragMovingCoord.y),e.edInfo.dragTranslate=function calcTranslate(e,t,n,r){var o=n-e,a=r-t;return{x:o,y:a,translate:"translate(".concat(o,"px,").concat(a,"px)")}}(e.edInfo.dragStartCoord.x,e.edInfo.dragStartCoord.y,e.edInfo.dragMovingCoord.x,e.edInfo.dragMovingCoord.y)}.bind(event)(),function updatePrevCoord(){switch(t){case"touchmove":o={x:event.touches[0].screenX,y:event.touches[0].screenY};break;case"drag":o={x:event.screenX,y:event.screenY}}}.bind(event)()}var a=!1,i=!1,c=!1,s=0,d=0,u=null,v=null,g=null;function registerListener(e,t,n){if(e.container||console.error("container cannot be empty."),e.target||console.error("target cannot be empty."),e.readyStatus&&e[n])switch(n){case"startEvent":u=function eventBundle_start(){s=(new Date).getTime(),e[n]&&(a||window.requestAnimationFrame(function(){e[n].bind(event,e.edInfo)(),a=!1}),a=!0),function defaultStartEvent(e,t){switch(r=(new Date).getTime(),e.edInfo.sourceEvent=event,t){case"touchstart":e.edInfo.dragStartCoord={x:event.touches[0].screenX,y:event.touches[0].screenY},o={x:event.touches[0].screenX,y:event.touches[0].screenY};break;case"dragstart":e.edInfo.dragStartCoord={x:event.screenX,y:event.screenY},o={x:event.screenX,y:event.screenY}}}(e,t)},e.target.addEventListener(t,u,{passive:!0});break;case"moveEvent":v=function eventBundle_move(){(d=(new Date).getTime())-s>e.debounce&&(e[n]&&(i||window.requestAnimationFrame(function(){e[n].bind(event,e.edInfo)(),i=!1}),i=!0),defaultMovingEvent(e,t),s=d)},e.target.addEventListener(t,v,{passive:!0});break;case"endEvent":g=function eventBundle_end(){e[n]&&(c||window.requestAnimationFrame(function(){e[n].bind(event,e.edInfo)(),c=!1}),c=!0),function defaultEndEvent(e){e.edInfo.dragStartCoord=null,e.edInfo.dragMovingCoord=null,e.edInfo.dragDirection=null,e.edInfo.dragDirectionFromPrev=null,e.edInfo.dragDistance=0,e.edInfo.dragDistanceFromPrev=0,e.edInfo.dragDuration=0,e.edInfo.dragTranslate=null,e.edInfo.sourceEvent=null,o=null,r=0}(e)},e.target.addEventListener(t,g,{passive:!0})}}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function setEvent(e,t,n){"function"!=typeof t?console.error("inputEvent must be a funciton."):e[n]=t}var l=function(){function ErikoDragger(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ErikoDragger),this.container=e||null,this.target=t||null,this.startEvent=n?n.startEvent:null,this.moveEvent=n?n.moveEvent:null,this.endEvent=n?n.endEvent:null,this.debounce=n?n.debouce:300,this.edInfo={dragStartCoord:null,dragMovingCoord:null,dragDirection:null,dragDirectionFromPrev:null,dragDistance:0,dragDistanceFromPrev:0,dragDuration:0,dragTranslate:null,sourceEvent:null}}return function _createClass(e,t,n){t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n)}(ErikoDragger,[{key:"setContainer",value:function setContainer(e){var t=document.querySelector(e);t&&(this.container=t)}},{key:"setTarget",value:function setTarget(e){var t=document.querySelector(e);t&&(this.target=t)}},{key:"setStartEvent",value:function setStartEvent(e){setEvent(this,e,"startEvent")}},{key:"setMoveEvent",value:function setMoveEvent(e){setEvent(this,e,"moveEvent")}},{key:"setEndEvent",value:function setEndEvent(e){setEvent(this,e,"endEvent")}},{key:"setDebounce",value:function setDebounce(e){this.debounce=e}},{key:"removeDragger",value:function removeDragger(){this.target?function removeListener(){this.target.removeEventListener("touchstart",u,{passive:!0}),this.target.removeEventListener("dragstart",u,{passive:!0}),this.target.removeEventListener("touchmove",v,{passive:!0}),this.target.removeEventListener("drag",v,{passive:!0}),this.target.removeEventListener("touchend",g,{passive:!0}),this.target.removeEventListener("dragend",g,{passive:!0})}.bind(this)():console.error("target cannot be empty.")}},{key:"launch",value:function launch(){(function addStartListener(){registerListener(this,"touchstart","startEvent"),registerListener(this,"dragstart","startEvent")}).bind(this)(),function addMoveListener(){registerListener(this,"touchmove","moveEvent"),registerListener(this,"drag","moveEvent")}.bind(this)(),function addEndListener(){registerListener(this,"touchend","endEvent"),registerListener(this,"dragend","endEvent")}.bind(this)()}},{key:"readyStatus",get:function get(){return this.container&&this.target}}]),ErikoDragger}()}]));